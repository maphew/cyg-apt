## Configuration ##

cyg-apt is configured by .cyg-apt, created in your home directory. This file can be modified to reconfigure .cyg-apt:

Typical .cyg-apt:
```
mirror = "http://mirror.internode.on.net/pub/cygwin/"
cache = "/e/home/application_data/cygwin_1_7"
setup_ini = "/etc/setup/setup-2.ini"
distname = "curr"
barred = "python cygwin base-cygwin coreutils bash zlib libreadline"
ROOT = "E:/cygwin_1_7/"
```

You can specify a different mirror and distname from the command line but this information is not retained.

|mirror 	| Cygwin mirror site|
|:-------|:------------------|
|cache 	| Cygwin package cache|
|setup\_ini 	| The package list downloaded from the mirror|
|distname 	| The distribution: current previous or test.|
|barred 	| Packages cyg-apt cannot change under Cygwin|
|ROOT 	        | The root of your Cygwin installation|

When cyg-apt setup is run, .cyg-apt is generated by looking at the files setup.exe places in /etc/setup to indicate the last cache and mirror used.

You can also have another .cyg-apt in a local directory. If a .cyg-apt file is present in the current working directory, cyg-apt will use that configuration in preference to the main $(HOME) file.

### Run cyg-apt update regularly ###
cyg-apt doesn't currently download setup-2.ini every time it runs. This conserves bandwidth given that a typical setup.ini now weighs in at 1 meg. The downside is that you might be operating against outdated package information: run cyg-apt update to get back into sync with your mirror.

## cyg-apt and setup.exe ##
While cyg-apt is compatible with the current setup.exe, **don't run them at the same time.** cyg-apt will attempt to detect setup.exe and exit if it is running. Simutaneous use of setup.exe and cyg-apt could result in a package being installed but setup.exe/cyg-apt not knowing it is there.

Changes made to your system by cyg-apt are visible to setup.exe and vice versa.

### Cygwin 1.7 special casing ###
During the Cygwin 1.7 Beta program, Cygwin 1.7 uses setup-2.ini, rather than setup.ini. I expect this to change back to setup.ini when 1.7 leaves beta. cyg-apt will need to be re-released/updated to generate the correct default setup\_ini filename when this happens. As a workaround you can edit .cyg-apt.

### Updating core Cygwin packages and Python ###
| **Treat Cygwin core packages with great caution** |
|:--------------------------------------------------|

cyg-apt cannot update these packages under Cygwin:

|python cygwin base-cygwin coreutils bash zlib libreadline|
|:--------------------------------------------------------|

To update these packages, run cyg-apt under DOS:
  * Copy cyg-apt to your home directory if required
  * Open a DOS box
  * Navigate to your home directory
  * Update package with -f (force) flag

#### Example: ####
```
$ cd ~
$ copy /usr/bin/cyg-apt .
start->run->cmd
C:\Documents and Settings\chrisc> e:
E:\> cd E:\cygwin_1_7\home\chrisc
E:\cygwin_1_7\home\chrisc>
E:\cygwin_1_7\home\chrisc> python cyg-apt --help
cyg-apt [OPTION]... COMMAND [PACKAGE]...
Configuration: E:/cygwin_1_7/home/chrisc/.cyg-apt
    Commands:
...
E:\cygwin_1_7\home\chrisc>python cyg-apt install zlib
cyg-apt: NOT installing zlib: cyg-apt is dependent on this package under Cygwin.
Use -f to override but proceed with caution.

E:\cygwin_1_7\home\chrisc>python cyg-apt -f install zlib
E:/home/application_data/cygwin_1_7/http%3a%2f%2fmirror.internode.on.net%2fpub%2
fcygwin%2f/release-2/zlib/zlib-1.2.3-10.tar.bz2
b518ce6051d0ca46985d3cd04aa83439  zlib-1.2.3-10.tar.bz2
b518ce6051d0ca46985d3cd04aa83439  zlib-1.2.3-10.tar.bz2
installing zlib 1.2.3-10
```

#### Source packages ####
cyg-apt restricts itself to simply downloading and unzipping the source package to the current working directory. It does not currently run the Cygwin patching scripts.